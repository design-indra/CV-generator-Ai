<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CV Generator AI</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
  :root {
    --ink: #1a1a2e;
    --paper: #f5f0e8;
    --gold: #c9a84c;
    --gold-light: #e8d5a3;
    --cream: #faf7f2;
    --accent: #2d5a8e;
    --shadow: rgba(26,26,46,0.15);
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--ink);
    color: var(--paper);
    min-height: 100vh;
  }
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background:
      radial-gradient(ellipse 80% 50% at 20% 20%, rgba(201,168,76,0.08) 0%, transparent 60%),
      radial-gradient(ellipse 60% 80% at 80% 80%, rgba(45,90,142,0.12) 0%, transparent 60%);
    pointer-events: none;
    z-index: 0;
  }
  header {
    position: relative;
    z-index: 10;
    text-align: center;
    padding: 50px 20px 30px;
    border-bottom: 1px solid rgba(201,168,76,0.2);
  }
  .logo-tag {
    display: inline-block;
    font-size: 11px;
    letter-spacing: 4px;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 12px;
    opacity: 0.8;
  }
  header h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2rem, 6vw, 4rem);
    font-weight: 900;
    background: linear-gradient(135deg, var(--paper) 30%, var(--gold) 70%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  header p {
    margin-top: 10px;
    color: rgba(245,240,232,0.5);
    font-size: 0.95rem;
  }
  .container {
    position: relative;
    z-index: 10;
    max-width: 1100px;
    margin: 0 auto;
    padding: 32px 16px 80px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 32px;
    align-items: start;
  }
  @media (max-width: 780px) {
    .container { grid-template-columns: 1fr; }
  }
  .form-panel {
    background: rgba(245,240,232,0.04);
    border: 1px solid rgba(201,168,76,0.15);
    border-radius: 20px;
    padding: 28px;
    backdrop-filter: blur(10px);
  }
  .panel-title {
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    color: var(--gold);
    margin-bottom: 24px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .panel-title::after {
    content: '';
    flex: 1;
    height: 1px;
    background: rgba(201,168,76,0.2);
  }
  .section-label {
    font-size: 10px;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--gold);
    opacity: 0.6;
    margin-bottom: 10px;
    margin-top: 20px;
  }
  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }
  .form-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
    margin-bottom: 10px;
  }
  label {
    font-size: 12px;
    color: rgba(245,240,232,0.5);
  }
  input, select, textarea {
    background: rgba(245,240,232,0.06);
    border: 1px solid rgba(201,168,76,0.15);
    border-radius: 10px;
    padding: 10px 13px;
    color: var(--paper);
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    transition: all 0.2s;
    width: 100%;
  }
  input::placeholder, textarea::placeholder { color: rgba(245,240,232,0.2); }
  input:focus, select:focus, textarea:focus {
    outline: none;
    border-color: rgba(201,168,76,0.5);
    background: rgba(245,240,232,0.08);
  }
  select option { background: var(--ink); }
  textarea { resize: vertical; min-height: 75px; }
  .dynamic-list { display: flex; flex-direction: column; gap: 8px; }
  .dynamic-item { display: flex; gap: 8px; align-items: center; }
  .dynamic-item input { flex: 1; }
  .btn-remove {
    background: rgba(142,45,45,0.2);
    border: 1px solid rgba(142,45,45,0.3);
    color: #e8a0a0;
    border-radius: 8px;
    width: 32px; height: 32px;
    cursor: pointer;
    font-size: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all 0.2s;
  }
  .btn-remove:hover { background: rgba(142,45,45,0.4); }
  .btn-add {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    color: var(--gold);
    background: rgba(201,168,76,0.08);
    border: 1px dashed rgba(201,168,76,0.3);
    border-radius: 8px;
    padding: 7px 14px;
    cursor: pointer;
    transition: all 0.2s;
    margin-top: 6px;
    font-family: 'DM Sans', sans-serif;
  }
  .btn-add:hover { background: rgba(201,168,76,0.15); }
  .btn-generate {
    width: 100%;
    padding: 15px;
    margin-top: 20px;
    background: linear-gradient(135deg, var(--gold) 0%, #a07830 100%);
    color: var(--ink);
    border: none;
    border-radius: 12px;
    font-family: 'DM Sans', sans-serif;
    font-size: 15px;
    font-weight: 600;
    letter-spacing: 0.5px;
    cursor: pointer;
    transition: all 0.3s;
  }
  .btn-generate:hover { transform: translateY(-2px); box-shadow: 0 12px 40px rgba(201,168,76,0.35); }
  .btn-generate:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
  .status-msg {
    text-align: center;
    font-size: 13px;
    color: var(--gold);
    margin-top: 10px;
    min-height: 20px;
    opacity: 0;
    transition: opacity 0.3s;
  }
  .status-msg.visible { opacity: 1; }
  .cv-panel { position: sticky; top: 20px; }
  .cv-wrapper {
    background: white;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 30px 80px rgba(0,0,0,0.4);
    min-height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .cv-placeholder {
    text-align: center;
    padding: 60px 30px;
    color: rgba(26,26,46,0.3);
  }
  .cv-placeholder p { font-size: 14px; color: rgba(26,26,46,0.4); margin-top: 12px; }
  #cv-content { width: 100%; font-family: 'DM Sans', sans-serif; color: #1a1a2e; }
  .cv-header-bar {
    background: linear-gradient(135deg, #1a1a2e 0%, #2d3561 100%);
    padding: 30px 30px 24px;
    color: white;
  }
  .cv-name { font-family: 'Playfair Display', serif; font-size: 26px; font-weight: 700; color: white; }
  .cv-title { color: var(--gold-light); font-size: 13px; letter-spacing: 2px; text-transform: uppercase; margin-top: 5px; }
  .cv-contact-bar { display: flex; flex-wrap: wrap; gap: 14px; margin-top: 16px; }
  .cv-contact-item { display: flex; align-items: center; gap: 5px; font-size: 11px; color: rgba(255,255,255,0.7); }
  .cv-body { padding: 24px 30px; display: grid; grid-template-columns: 1fr 2fr; gap: 24px; }
  .cv-section { margin-bottom: 20px; }
  .cv-section-title {
    font-size: 9px; letter-spacing: 3px; text-transform: uppercase;
    color: var(--accent); font-weight: 600; margin-bottom: 10px;
    padding-bottom: 5px; border-bottom: 2px solid var(--accent);
  }
  .cv-section-title-gold {
    font-size: 9px; letter-spacing: 3px; text-transform: uppercase;
    color: #8a7040; font-weight: 600; margin-bottom: 10px;
    padding-bottom: 5px; border-bottom: 2px solid var(--gold);
  }
  .cv-summary { font-size: 12px; line-height: 1.7; color: #444; }
  .cv-exp-item { margin-bottom: 16px; }
  .cv-exp-role { font-weight: 600; font-size: 13px; color: #1a1a2e; }
  .cv-exp-company { font-size: 12px; color: var(--accent); font-weight: 500; }
  .cv-exp-period { font-size: 11px; color: #999; margin-bottom: 5px; }
  .cv-exp-desc { font-size: 11px; color: #555; line-height: 1.6; }
  .cv-skill-list { display: flex; flex-wrap: wrap; gap: 5px; }
  .cv-skill-tag {
    background: rgba(45,90,142,0.1); color: var(--accent);
    padding: 3px 9px; border-radius: 20px; font-size: 10px; font-weight: 500;
  }
  .cv-edu-item { margin-bottom: 12px; }
  .cv-edu-degree { font-weight: 600; font-size: 12px; color: #1a1a2e; }
  .cv-edu-school { font-size: 11px; color: #666; }
  .cv-edu-year { font-size: 10px; color: #999; }
  .cv-lang-item { display: flex; justify-content: space-between; font-size: 11px; margin-bottom: 6px; color: #444; }
  .cv-lang-level { color: var(--accent); font-weight: 500; }
  .cv-actions { display: flex; gap: 10px; margin-top: 14px; }
  .btn-action {
    flex: 1; padding: 12px; border-radius: 10px;
    font-family: 'DM Sans', sans-serif; font-size: 13px;
    font-weight: 600; cursor: pointer; transition: all 0.2s; border: none;
  }
  .btn-download { background: linear-gradient(135deg, var(--gold) 0%, #a07830 100%); color: var(--ink); }
  .btn-download:hover { transform: translateY(-1px); box-shadow: 0 8px 24px rgba(201,168,76,0.3); }
  .btn-print { background: rgba(245,240,232,0.08); border: 1px solid rgba(201,168,76,0.2) !important; color: var(--paper); }
  .btn-print:hover { background: rgba(245,240,232,0.12); }
  @media print {
    body { background: white; }
    .form-panel, header, .cv-actions { display: none; }
    .container { display: block; padding: 0; }
    .cv-panel { position: static; }
    .cv-wrapper { box-shadow: none; border-radius: 0; }
  }
</style>
</head>
<body>

<header>
  <div class="logo-tag">‚ú¶ Powered by Claude AI</div>
  <h1>CV Generator AI</h1>
  <p>Isi data Anda ‚Äî AI otomatis membuat CV profesional lengkap</p>
</header>

<div class="container">
  <!-- FORM -->
  <div class="form-panel">
    <div class="panel-title">Data Diri</div>

    <div class="section-label">Informasi Pribadi</div>
    <div class="form-row">
      <div class="form-group">
        <label>Nama Lengkap *</label>
        <input type="text" id="nama" placeholder="Budi Santoso" />
      </div>
      <div class="form-group">
        <label>Tanggal Lahir</label>
        <input type="date" id="tgl_lahir" />
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label>Email *</label>
        <input type="email" id="email" placeholder="budi@email.com" />
      </div>
      <div class="form-group">
        <label>Nomor HP</label>
        <input type="tel" id="telepon" placeholder="+62 812..." />
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label>Kota / Lokasi</label>
        <input type="text" id="lokasi" placeholder="Jakarta, Indonesia" />
      </div>
      <div class="form-group">
        <label>LinkedIn / Portfolio</label>
        <input type="text" id="linkedin" placeholder="linkedin.com/in/nama" />
      </div>
    </div>

    <div class="section-label">Karir</div>
    <div class="form-group">
      <label>Posisi / Jabatan yang Dituju *</label>
      <input type="text" id="posisi" placeholder="Software Engineer, Marketing Manager, dll." />
    </div>
    <div class="form-group">
      <label>Ringkasan Diri (opsional)</label>
      <textarea id="ringkasan" placeholder="Ceritakan tentang diri Anda..."></textarea>
    </div>

    <div class="section-label">Pengalaman Kerja</div>
    <div class="dynamic-list" id="exp-list">
      <div class="dynamic-item">
        <input type="text" placeholder="2020‚Äì2023 | Software Engineer | PT Maju Jaya" />
        <button class="btn-remove" onclick="removeItem(this)">√ó</button>
      </div>
    </div>
    <button class="btn-add" onclick="addItem('exp-list','2021‚Äì2024 | Data Analyst | Startup XYZ')">+ Tambah Pengalaman</button>

    <div class="section-label">Pendidikan</div>
    <div class="dynamic-list" id="edu-list">
      <div class="dynamic-item">
        <input type="text" placeholder="2016‚Äì2020 | S1 Teknik Informatika | Universitas Indonesia" />
        <button class="btn-remove" onclick="removeItem(this)">√ó</button>
      </div>
    </div>
    <button class="btn-add" onclick="addItem('edu-list','2012‚Äì2016 | SMA Negeri 1 Jakarta')">+ Tambah Pendidikan</button>

    <div class="section-label">Keahlian (Skills)</div>
    <div class="dynamic-list" id="skill-list">
      <div class="dynamic-item">
        <input type="text" placeholder="JavaScript, Python, React..." />
        <button class="btn-remove" onclick="removeItem(this)">√ó</button>
      </div>
    </div>
    <button class="btn-add" onclick="addItem('skill-list','Project Management, Komunikasi...')">+ Tambah Skill</button>

    <div class="section-label">Bahasa yang Dikuasai</div>
    <div class="dynamic-list" id="lang-list">
      <div class="dynamic-item">
        <input type="text" placeholder="Bahasa Indonesia (Native), Inggris (Profesional)" />
        <button class="btn-remove" onclick="removeItem(this)">√ó</button>
      </div>
    </div>
    <button class="btn-add" onclick="addItem('lang-list','Mandarin (Dasar)')">+ Tambah Bahasa</button>

    <div class="section-label">Sertifikasi / Penghargaan (opsional)</div>
    <div class="dynamic-list" id="cert-list">
      <div class="dynamic-item">
        <input type="text" placeholder="AWS Certified Developer ‚Äì 2022" />
        <button class="btn-remove" onclick="removeItem(this)">√ó</button>
      </div>
    </div>
    <button class="btn-add" onclick="addItem('cert-list','Google Analytics Certified')">+ Tambah Sertifikasi</button>

    <button class="btn-generate" id="gen-btn" onclick="generateCV()">
      ‚ú¶ Generate CV Sekarang
    </button>
    <div class="status-msg" id="status-msg"></div>
  </div>

  <!-- CV PREVIEW -->
  <div class="cv-panel">
    <div class="panel-title">Preview CV</div>
    <div class="cv-wrapper" id="cv-wrapper">
      <div class="cv-placeholder">
        <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
          <rect x="8" y="4" width="32" height="40" rx="4" stroke="#1a1a2e" stroke-width="2"/>
          <line x1="14" y1="16" x2="34" y2="16" stroke="#1a1a2e" stroke-width="2"/>
          <line x1="14" y1="22" x2="34" y2="22" stroke="#1a1a2e" stroke-width="2"/>
          <line x1="14" y1="28" x2="26" y2="28" stroke="#1a1a2e" stroke-width="2"/>
        </svg>
        <p>CV Anda akan muncul di sini<br>setelah mengisi data dan klik Generate</p>
      </div>
    </div>
    <div class="cv-actions" id="cv-actions" style="display:none">
      <button class="btn-action btn-download" onclick="downloadCV()">‚¨á Download HTML</button>
      <button class="btn-action btn-print" onclick="window.print()">üñ® Print / PDF</button>
    </div>
  </div>
</div>

<script>
function addItem(listId, placeholder) {
  const list = document.getElementById(listId);
  const div = document.createElement('div');
  div.className = 'dynamic-item';
  div.innerHTML = `<input type="text" placeholder="${placeholder}" /><button class="btn-remove" onclick="removeItem(this)">√ó</button>`;
  list.appendChild(div);
  div.querySelector('input').focus();
}

function removeItem(btn) {
  const list = btn.closest('.dynamic-list');
  if (list.children.length > 1) btn.closest('.dynamic-item').remove();
}

function getListValues(listId) {
  return Array.from(document.querySelectorAll(`#${listId} input`))
    .map(i => i.value.trim()).filter(Boolean);
}

function setStatus(msg) {
  const el = document.getElementById('status-msg');
  el.textContent = msg;
  el.classList.add('visible');
}

async function generateCV() {
  const nama = document.getElementById('nama').value.trim();
  const email = document.getElementById('email').value.trim();
  const posisi = document.getElementById('posisi').value.trim();

  if (!nama || !email || !posisi) {
    setStatus('‚ö† Mohon isi Nama, Email, dan Posisi yang Dituju.');
    return;
  }

  const btn = document.getElementById('gen-btn');
  btn.disabled = true;
  btn.textContent = '‚è≥ AI sedang menulis CV Anda...';
  setStatus('ü§ñ Menghubungi AI...');

  const data = {
    nama,
    tgl_lahir: document.getElementById('tgl_lahir').value,
    email,
    telepon: document.getElementById('telepon').value.trim(),
    lokasi: document.getElementById('lokasi').value.trim(),
    linkedin: document.getElementById('linkedin').value.trim(),
    posisi,
    ringkasan_user: document.getElementById('ringkasan').value.trim(),
    pengalaman: getListValues('exp-list'),
    pendidikan: getListValues('edu-list'),
    skills: getListValues('skill-list'),
    bahasa: getListValues('lang-list'),
    sertifikasi: getListValues('cert-list'),
  };

  const prompt = `Anda adalah penulis CV profesional Indonesia. Buat CV lengkap dalam format JSON berdasarkan data berikut:

NAMA: ${data.nama}
TANGGAL LAHIR: ${data.tgl_lahir || 'tidak disebutkan'}
EMAIL: ${data.email}
TELEPON: ${data.telepon || 'tidak disebutkan'}
LOKASI: ${data.lokasi || 'tidak disebutkan'}
LINKEDIN: ${data.linkedin || 'tidak disebutkan'}
POSISI YANG DITUJU: ${data.posisi}
RINGKASAN USER: ${data.ringkasan_user || 'buatkan sendiri'}
PENGALAMAN: ${data.pengalaman.join(' | ') || 'tidak disebutkan'}
PENDIDIKAN: ${data.pendidikan.join(' | ') || 'tidak disebutkan'}
SKILLS: ${data.skills.join(', ') || 'tidak disebutkan'}
BAHASA: ${data.bahasa.join(', ') || 'tidak disebutkan'}
SERTIFIKASI: ${data.sertifikasi.join(', ') || 'tidak ada'}

Kembalikan HANYA JSON valid tanpa backtick dan tanpa penjelasan:
{
  "nama": "string",
  "posisi_target": "string",
  "email": "string",
  "telepon": "string",
  "lokasi": "string",
  "linkedin": "string",
  "usia": "string",
  "ringkasan": "string (3-4 kalimat profesional)",
  "pengalaman": [{"jabatan":"string","perusahaan":"string","periode":"string","deskripsi":["bullet1","bullet2","bullet3"]}],
  "pendidikan": [{"gelar":"string","institusi":"string","tahun":"string"}],
  "skills": ["string"],
  "bahasa": [{"nama":"string","level":"string"}],
  "sertifikasi": ["string"]
}`;

  try {
    const res = await fetch('/.netlify/functions/generate', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ prompt })
    });

    const apiData = await res.json();

    if (!res.ok) {
      throw new Error(apiData.error || 'Gagal dari server');
    }

    // Parse response
    let text = '';
    if (apiData.content && Array.isArray(apiData.content)) {
      text = apiData.content.map(c => c.text || '').join('');
    } else {
      throw new Error('Format response tidak dikenali: ' + JSON.stringify(apiData).substring(0, 100));
    }

    // Clean dan extract JSON
    text = text.replace(/```json|```/g, '').trim();
    const jsonMatch = text.match(/\{[\s\S]*\}/);
    if (!jsonMatch) throw new Error('JSON tidak ditemukan dalam response');

    const cv = JSON.parse(jsonMatch[0]);
    renderCV(cv);
    setStatus('‚úÖ CV berhasil dibuat!');
    document.getElementById('cv-actions').style.display = 'flex';

  } catch (e) {
    console.error(e);
    setStatus('‚ùå Error: ' + e.message);
  } finally {
    btn.disabled = false;
    btn.textContent = '‚ú¶ Generate Ulang CV';
  }
}

function renderCV(cv) {
  const wrapper = document.getElementById('cv-wrapper');

  const expHTML = (cv.pengalaman || []).map(e => `
    <div class="cv-exp-item">
      <div class="cv-exp-role">${e.jabatan || ''}</div>
      <div class="cv-exp-company">${e.perusahaan || ''}</div>
      <div class="cv-exp-period">${e.periode || ''}</div>
      <div class="cv-exp-desc">${(e.deskripsi || []).map(d => `‚Ä¢ ${d}`).join('<br>')}</div>
    </div>`).join('');

  const eduHTML = (cv.pendidikan || []).map(e => `
    <div class="cv-edu-item">
      <div class="cv-edu-degree">${e.gelar || ''}</div>
      <div class="cv-edu-school">${e.institusi || ''}</div>
      <div class="cv-edu-year">${e.tahun || ''}</div>
    </div>`).join('');

  const skillHTML = (cv.skills || []).map(s => `<span class="cv-skill-tag">${s}</span>`).join('');

  const langHTML = (cv.bahasa || []).map(l => `
    <div class="cv-lang-item">
      <span>${l.nama}</span>
      <span class="cv-lang-level">${l.level}</span>
    </div>`).join('');

  const certHTML = cv.sertifikasi?.length ? `
    <div class="cv-section">
      <div class="cv-section-title-gold">Sertifikasi</div>
      ${cv.sertifikasi.map(c => `<div style="font-size:11px;color:#555;margin-bottom:5px;">üèÖ ${c}</div>`).join('')}
    </div>` : '';

  wrapper.innerHTML = `
    <div id="cv-content">
      <div class="cv-header-bar">
        <div class="cv-name">${cv.nama || ''}</div>
        <div class="cv-title">${cv.posisi_target || ''}</div>
        <div class="cv-contact-bar">
          ${cv.email ? `<div class="cv-contact-item">‚úâ ${cv.email}</div>` : ''}
          ${cv.telepon ? `<div class="cv-contact-item">üìû ${cv.telepon}</div>` : ''}
          ${cv.lokasi ? `<div class="cv-contact-item">üìç ${cv.lokasi}</div>` : ''}
          ${cv.linkedin ? `<div class="cv-contact-item">üîó ${cv.linkedin}</div>` : ''}
          ${cv.usia && cv.usia !== 'tidak disebutkan' ? `<div class="cv-contact-item">üéÇ ${cv.usia}</div>` : ''}
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          ${skillHTML ? `<div class="cv-section"><div class="cv-section-title-gold">Keahlian</div><div class="cv-skill-list">${skillHTML}</div></div>` : ''}
          ${eduHTML ? `<div class="cv-section"><div class="cv-section-title-gold">Pendidikan</div>${eduHTML}</div>` : ''}
          ${langHTML ? `<div class="cv-section"><div class="cv-section-title-gold">Bahasa</div>${langHTML}</div>` : ''}
          ${certHTML}
        </div>
        <div class="cv-main">
          ${cv.ringkasan ? `<div class="cv-section"><div class="cv-section-title">Profil Profesional</div><div class="cv-summary">${cv.ringkasan}</div></div>` : ''}
          ${expHTML ? `<div class="cv-section"><div class="cv-section-title">Pengalaman Kerja</div>${expHTML}</div>` : ''}
        </div>
      </div>
    </div>`;
}

function downloadCV() {
  const content = document.getElementById('cv-content');
  if (!content) return;
  const html = `<!DOCTYPE html><html><head><meta charset="UTF-8"><title>CV - ${document.getElementById('nama').value}</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
:root{--accent:#2d5a8e;--gold:#c9a84c;--gold-light:#e8d5a3}
body{font-family:'DM Sans',sans-serif;margin:0;color:#1a1a2e}
${document.querySelector('style').textContent}
</style></head><body>${content.outerHTML}</body></html>`;
  const a = document.createElement('a');
  a.href = 'data:text/html;charset=utf-8,' + encodeURIComponent(html);
  a.download = 'CV_' + (document.getElementById('nama').value || 'saya') + '.html';
  a.click();
}
</script>
</body>
</html>
